S.ready(function(){function hasScrolled(){if(st=document.getElementsByTagName("body")[0].scrollTop,!(Math.abs(lastScrollTop-st)<=delta)){var body=document.body,html=document.documentElement,docHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);st>lastScrollTop&&st>navbarHeight&&st>250?s("header").removeClass().addClass("nav-up"):st+window.innerHeight<docHeight&&s("header").removeClass().addClass("nav-down"),lastScrollTop=st}}function addEvent(obj,evt,fn){obj.addEventListener?obj.addEventListener(evt,fn,!1):obj.attachEvent&&obj.attachEvent("on"+evt,fn)}s(".section-menu").hover(function(){s(".section-nav").addClass("active"),s(".section-menu").addClass("active")},function(){s(".section-nav").removeClass("active"),s(".section-menu").removeClass("active")});var didScroll,lastScrollTop=0,delta=5,navbarHeight=Number(s("header").css("height")[0].substr(0,s("header").css("height")[0].length-2));window.addEventListener("scroll",function(){didScroll=!0}),setInterval(function(){didScroll&&(hasScrolled(),didScroll=!1)},250);var panelShown=(Date.now(),!1);addEvent(document,"mouseout",function(evt){null!=evt.toElement||null!=evt.relatedTarget||panelShown||(s(".overlay").addClass("active"),panelShown=!0)}),s(".panel .close").on("click",function(){s(".overlay").removeClass("active")})});